<app-dialog [title]="customerName">
  <app-user-info [data]="localData" title='Cliente'></app-user-info>
  <div class="d-flex justify-content-between my-3">
    <span class="d-flex align-items-center my-3 subtitle">
      <mat-icon class="material-icons-outlined mr-1">list_alt</mat-icon>
      Ã“rdenes por periodo
    </span>
    <form [formGroup]="datesForm">
      <mat-form-field>
        <input matInput placeholder="Elige las fechas" [satDatepicker]="picker" formControlName="date"   (dateChange)="getOrdenes()">
        <sat-datepicker #picker [rangeMode]="true"></sat-datepicker>
        <sat-datepicker-toggle matSuffix [for]="picker"></sat-datepicker-toggle>
      </mat-form-field>
    </form>
    
  </div>

  <table mat-table [dataSource]="ordenes" class="mat-elevation-z8 mb-5">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let row"> {{row.id}} </td>
    </ng-container>

    <ng-container matColumnDef="fecha">
      <th mat-header-cell *matHeaderCellDef> Fecha </th>
      <td mat-cell *matCellDef="let row"> {{row.fecha | date:'short'}} </td>
    </ng-container>
  
    <ng-container matColumnDef="formaPago">
      <th mat-header-cell *matHeaderCellDef> Forma Pago </th>
      <td mat-cell *matCellDef="let row"> {{row.formaPago}} </td>
    </ng-container>
  
    <ng-container matColumnDef="delivery">
      <th mat-header-cell *matHeaderCellDef> Delivery </th>
      <td mat-cell *matCellDef="let row"> {{row.delivery ? 'Si' : 'No'}} </td>
    </ng-container>
  
    <ng-container matColumnDef="estado">
      <th mat-header-cell *matHeaderCellDef> Estado </th>
      <td mat-cell *matCellDef="let row"> {{row.estado.denominacion}} </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</app-dialog>
